<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Friend Finder</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>
<body>

	<div class="container">
		
		<h2>Survey Questions</h2>
		<hr>
		<h3>
			<strong>About You</strong>
		</h3>
		<h4>Name (Required)</h4>
		<input type="text" id="name" class="form-control" required>
		<h4>Photo (Required)</h4>
		<input type="text" id="photo" class="form-control" required>
		<hr>
		<h3>
			<strong>Question 1</strong>
		</h3>
		<h4>You want to travel the world!</h4>
		<select name="text" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 2</strong>
		</h3>
		<h4>Friends are crucial to a happy life</h4>
		<select name="text" id="q2">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 3</strong>
		</h3>
		<h4>You stay home on saturday nights</h4>
		<select name="text" id="q3">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 4</strong>
		</h3>
		<h4>You rarely text first</h4>
		<select name="text" id="q4">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 5</strong>
		</h3>
		<h4>Heights make you uncomfortable<h4>
		<select name="text" id="q5">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 6</strong>
		</h3>
		<h4>Big crowds make you closterfobic</h4>
		<select name="text" id="q6">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 7</strong>
		</h3>
		<h4>Video Games are life</h4>
		<select name="text" id="q7">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 8</strong>
		</h3>
		<h4>Sports are life</h4>
		<select name="text" id="q8">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 9</strong>
		</h3>
		<h4>You'd rather spend time alone then with friends</h4>
		<select name="text" id="q9">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<h3>
			<strong>Question 10</strong>
		</h3>
		<h4>Life is good</h4>
		<select name="text" id="q10">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>
		<br>
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
		<hr>
		<footer class="footer">
			<div class="container">
				<p>
					<a href="/api/friends">API Friends List</a>
					 | 
					<a href="">GitHub Repo</a>
				</p>
			</div>
		</footer>
	</div>
	<div id="results-modal" class="modal fade" role="dialog">
		
		<div class="modal-dialog">

			<div class="modal-header">
				<h1>Best Match</h1>
			</div>
			
			<div class="modal-content">
				<div class="userMatch" width="500px"></div>
				<img class="userImage" src="" width="500px" height="500px">
			</div>
		</div>
	</div>

<style type="text/css">

.modal-header {
	background-color: DarkCyan;
	text-align: center;
	width: 75%;
}
.modal-content {
	width: 75%;
	height: 50%;
}
.userMatch {
	background-color: white;
	width: 50%;
}
.userImage {
	width: 100%;
}
#results-modal {
	font-size: 20;
}

</style>

<script type="text/javascript">
	$(document).on("click", "#submit", function(event){
	event.preventDefault();
	var name = $("#name").val();
	var photo = $("#photo").val();
	var q1 = parseInt($("#q1").val());
	var q2 = parseInt($("#q2").val());
	var q3 = parseInt($("#q3").val());
	var q4 = parseInt($("#q4").val());
	var q5 = parseInt($("#q5").val());
	var q6 = parseInt($("#q6").val());
	var q7 = parseInt($("#q7").val());
	var q8 = parseInt($("#q8").val());
	var q9 = parseInt($("#q9").val());
	var q10 = parseInt($("#q10").val());
	var results = [q1, q2, q3, q4, q5, q6, q7, q8, q9, q10];
	var data = {
		name: name,
		photo: photo,
		results: results
	};
	$.ajax({
  	method: "POST",
  	url: "/api/friends",
  	data: data
	})
  	.done(function(data) {
  		console.log(JSON.stringify(data));
  		$(".userMatch").html("<h2>" + data.name + "</h2>");
  		console.log(data.photo);
  		$(".userImage").attr("src", data.photo);
  		$("#results-modal").modal();
  		
  	});


});
</script>
</body>
</html>